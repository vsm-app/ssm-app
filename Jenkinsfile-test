
node(){
stage("clone"){
  checkout scm
}
stage("check tag exist"){
def datas = readYaml file: '.version.yml'

 check_tag("${datas.version}")
}

stage("test stage"){
 echo "test stage"
}

}
def check_tag(TAGNAME){
sh(returnStdout: true, script: "git tag --sort version:refname | tail -1").trim()
def foo=sh(returnStdout: true, script: "git tag --contains").trim()
echo " latest:::  $foo "
sh """
echo "TAGNAME ::   $TAGNAME"
"""
}
